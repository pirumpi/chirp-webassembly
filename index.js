var ChirpConnectSDK=function(e){"use strict";var t,T=void 0!==T?T:{},n={};for(t in T)T.hasOwnProperty(t)&&(n[t]=T[t]);T.arguments=[],T.thisProgram="./this.program",T.quit=function(e,t){throw t},T.preRun=[];var i,r,f=!(T.postRun=[]),d=!1,a=!1,o=!1;if(T.ENVIRONMENT)if("WEB"===T.ENVIRONMENT)f=!0;else if("WORKER"===T.ENVIRONMENT)d=!0;else if("NODE"===T.ENVIRONMENT)a=!0;else{if("SHELL"!==T.ENVIRONMENT)throw new Error("Module['ENVIRONMENT'] value is not valid. must be one of: WEB|WORKER|NODE|SHELL.");o=!0}else f="object"==typeof window,d="function"==typeof importScripts,a="object"==typeof process&&"function"==typeof require&&!f&&!d,o=!f&&!a&&!d;if(a)T.read=function(e,t){var n;return i||(i=require("fs")),r||(r=require("path")),e=r.normalize(e),n=i.readFileSync(e),t?n:n.toString()},T.readBinary=function(e){var t=T.read(e,!0);return t.buffer||(t=new Uint8Array(t)),E(t.buffer),t},1<process.argv.length&&(T.thisProgram=process.argv[1].replace(/\\/g,"/")),T.arguments=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=T),process.on("uncaughtException",function(e){if(!(e instanceof wt))throw e}),process.on("unhandledRejection",function(e,t){T.printErr("node.js exiting due to unhandled promise rejection"),process.exit(1)}),T.inspect=function(){return"[Emscripten Module object]"};else if(o)"undefined"!=typeof read&&(T.read=function(e){return read(e)}),T.readBinary=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(E("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?T.arguments=scriptArgs:void 0!==arguments&&(T.arguments=arguments),"function"==typeof quit&&(T.quit=function(e,t){quit(e)});else{if(!f&&!d)throw new Error("unknown runtime environment");T.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},d&&(T.readBinary=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),T.readAsync=function(e,t,n){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=function(){200==i.status||0==i.status&&i.response?t(i.response):n()},i.onerror=n,i.send(null)},T.setWindowTitle=function(e){document.title=e}}for(t in T.print="undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null,T.printErr="undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||T.print,T.print=T.print,T.printErr=T.printErr,n)n.hasOwnProperty(t)&&(T[t]=n[t]);n=void 0;function p(e){E(!H);var t=j;return j=j+e+15&-16,t}function h(e){E(V);var t=X[V>>2],n=t+e+15&-16;if((X[V>>2]=n,$<=n)&&!J())return X[V>>2]=t,0;return t}function s(e,t){return t||(t=16),e=Math.ceil(e/t)*t}function m(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return 4;if("i"===e[0]){var t=parseInt(e.substr(1));return E(t%8==0),t/8}return 0}}function c(e){c.shown||(c.shown={}),c.shown[e]||(c.shown[e]=1,T.printErr(e))}Tt=yt=Et=function(){bt("cannot use the stack before compiled code is ready to run, and has provided stack access")};var _=new Array(20);var u=0;function E(e,t){e||bt("Assertion failed: "+t)}function l(e){var t=T["_"+e];return E(t,"Cannot call unknown function "+e+", make sure it is exported"),t}var y={stackSave:function(){Tt()},stackRestore:function(){yt()},arrayToC:function(e){var t,n,i=Et(e.length);return n=i,E(0<=(t=e).length,"writeArrayToMemory array must have a length (should be an array or typed array)"),C.set(t,n),i},stringToC:function(e){var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);N(e,t=Et(n),n)}return t}},w={string:y.stringToC,array:y.arrayToC};function g(e,t,n,i,r){var a=l(e),o=[],s=0;if(E("array"!==t,'Return type should not be "array".'),i)for(var c=0;c<i.length;c++){var _=w[n[c]];_?(0===s&&(s=Tt()),o[c]=_(i[c])):o[c]=i[c]}var u=a.apply(null,o);return"string"===t?u=x(u):"boolean"===t&&(u=Boolean(u)),0!==s&&yt(s),u}function v(e,t,n,i){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":C[e>>0]=t;break;case"i16":k[e>>1]=t;break;case"i32":X[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,1<=+ce(tempDouble)?0<tempDouble?(0|le(+ue(tempDouble/4294967296),4294967295))>>>0:~~+_e((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],X[e>>2]=tempI64[0],X[e+4>>2]=tempI64[1];break;case"float":P[e>>2]=t;break;case"double":L[e>>3]=t;break;default:bt("invalid type for setValue: "+n)}}function b(e,t,n,i){var r,a;"number"==typeof e?(r=!0,a=e):(r=!1,a=e.length);var o,s="string"==typeof t?t:null;if(o=4==n?i:["function"==typeof mt?mt:p,Et,p,h][void 0===n?2:n](Math.max(a,s?1:t.length)),r){var c;for(E(0==(3&(i=o))),c=o+(-4&a);i<c;i+=4)X[i>>2]=0;for(c=o+a;i<c;)C[i++>>0]=0;return o}if("i8"===s)return e.subarray||e.slice?F.set(e,o):F.set(new Uint8Array(e),o),o;for(var _,u,l,f=0;f<a;){var d=e[f];0!==(_=s||t[f])?(E(_,"Must know what type to store in allocate!"),"i64"==_&&(_="i32"),v(o+f,d,_),l!==_&&(u=m(_),l=_),f+=u):f++}return o}function x(e,t){if(0===t||!e)return"";for(var n,i=0,r=0;E(e+r<$),i|=n=F[e+r>>0],(0!=n||t)&&(r++,!t||r!=t););t||(t=r);var a="";if(i<128){for(var o;0<t;)o=String.fromCharCode.apply(String,F.subarray(e,e+Math.min(t,1024))),a=a?a+o:o,e+=1024,t-=1024;return a}return A(F,e)}var R="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function A(e,t){for(var n=t;e[n];)++n;if(16<n-t&&e.subarray&&R)return R.decode(e.subarray(t,n));for(var i,r,a,o,s,c="";;){if(!(i=e[t++]))return c;if(128&i)if(r=63&e[t++],192!=(224&i))if(a=63&e[t++],224==(240&i)?i=(15&i)<<12|r<<6|a:(o=63&e[t++],240==(248&i)?i=(7&i)<<18|r<<12|a<<6|o:(s=63&e[t++],i=248==(252&i)?(3&i)<<24|r<<18|a<<12|o<<6|s:(1&i)<<30|r<<24|a<<18|o<<12|s<<6|63&e[t++])),i<65536)c+=String.fromCharCode(i);else{var _=i-65536;c+=String.fromCharCode(55296|_>>10,56320|1023&_)}else c+=String.fromCharCode((31&i)<<6|r);else c+=String.fromCharCode(i)}}function I(e,t,n,i){if(!(0<i))return 0;for(var r=n,a=n+i-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(55296<=s&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),s<=127){if(a<=n)break;t[n++]=s}else if(s<=2047){if(a<=n+1)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(a<=n+2)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else if(s<=2097151){if(a<=n+3)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}else if(s<=67108863){if(a<=n+4)break;t[n++]=248|s>>24,t[n++]=128|s>>18&63,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(a<=n+5)break;t[n++]=252|s>>30,t[n++]=128|s>>24&63,t[n++]=128|s>>18&63,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-r}function N(e,t,n){return E("number"==typeof n,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),I(e,F,t,n)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");function M(e){return e.replace(/__Z[\w\d_]+/g,function(e){var t,n=(t=e,c("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),t);return e===n?e:e+" ["+n+"]"})}function O(){var e=function(){var t=new Error;if(!t.stack){try{throw new Error(0)}catch(e){t=e}if(!t.stack)return"(no stack trace available)"}return t.stack.toString()}();return T.extraStackTrace&&(e+="\n"+T.extraStackTrace()),M(e)}var S,C,F,k,U,X,D,P,L,j,H,B,Q,W,Y,V,q=65536;function z(){T.HEAP8=C=new Int8Array(S),T.HEAP16=k=new Int16Array(S),T.HEAP32=X=new Int32Array(S),T.HEAPU8=F=new Uint8Array(S),T.HEAPU16=U=new Uint16Array(S),T.HEAPU32=D=new Uint32Array(S),T.HEAPF32=P=new Float32Array(S),T.HEAPF64=L=new Float64Array(S)}function K(){if(34821223==D[(W>>2)-1]&&2310721022==D[(W>>2)-2]||bt("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x02135467, but received 0x"+D[(W>>2)-2].toString(16)+" "+D[(W>>2)-1].toString(16)),1668509029!==X[0])throw"Runtime error: The application has corrupted its heap memory area (address zero)!"}function G(){bt("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+$+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function J(){G()}j=Q=W=V=0,H=!1;var Z=T.TOTAL_STACK||5242880,$=T.TOTAL_MEMORY||16777216;if($<Z&&T.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+$+"! (TOTAL_STACK="+Z+")"),E("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&void 0!==Int32Array.prototype.subarray&&void 0!==Int32Array.prototype.set,"JS engine does not provide full typed array support"),T.buffer?E((S=T.buffer).byteLength===$,"provided buffer should be "+$+" bytes, but it is "+S.byteLength):("object"==typeof WebAssembly&&"function"==typeof WebAssembly.Memory?(E($%q==0),T.wasmMemory=new WebAssembly.Memory({initial:$/q,maximum:$/q}),S=T.wasmMemory.buffer):S=new ArrayBuffer($),E(S.byteLength===$),T.buffer=S),z(),X[0]=1668509029,k[1]=25459,115!==F[2]||99!==F[3])throw"Runtime error: expected the system to be little-endian!";function ee(e){for(;0<e.length;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?T.dynCall_v(n):T.dynCall_vi(n,t.arg):n(void 0===t.arg?null:t.arg)}else t()}}var te=[],ne=[],ie=[],re=[],ae=[],oe=!1,se=!1;E(Math.imul&&Math.fround&&Math.clz32&&Math.trunc,"this is a legacy browser, build with LEGACY_VM_SUPPORT");var ce=Math.abs,_e=Math.ceil,ue=Math.floor,le=Math.min,fe=0,de=null,pe=null,he={};function me(e){fe++,T.monitorRunDependencies&&T.monitorRunDependencies(fe),e?(E(!he[e]),he[e]=1,null===de&&"undefined"!=typeof setInterval&&(de=setInterval(function(){if(u)return clearInterval(de),void(de=null);var e=!1;for(var t in he)e||(e=!0,T.printErr("still waiting on run dependencies:")),T.printErr("dependency: "+t);e&&T.printErr("(end of list)")},1e4))):T.printErr("warning: run dependency added without ID")}function Ee(e){if(fe--,T.monitorRunDependencies&&T.monitorRunDependencies(fe),e?(E(he[e]),delete he[e]):T.printErr("warning: run dependency removed without ID"),0==fe&&(null!==de&&(clearInterval(de),de=null),pe)){var t=pe;pe=null,t()}}T.preloadedImages={},T.preloadedAudios={};var ye={error:function(){bt("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with  -s FORCE_FILESYSTEM=1")},init:function(){ye.error()},createDataFile:function(){ye.error()},createPreloadedFile:function(){ye.error()},createLazyFile:function(){ye.error()},open:function(){ye.error()},mkdev:function(){ye.error()},registerDevice:function(){ye.error()},analyzePath:function(){ye.error()},loadFilesFromDB:function(){ye.error()},ErrnoError:function(){ye.error()}};T.FS_createDataFile=ye.createDataFile,T.FS_createPreloadedFile=ye.createPreloadedFile;var Te="data:application/octet-stream;base64,";function we(e){return String.prototype.startsWith?e.startsWith(Te):0===e.indexOf(Te)}!function(){var e="chirp-connect.wast",s="https://public.chirp.io/wasm/3.0.0/lite/chirp-connect.wasm",t="chirp-connect.temp.asm.js";"function"==typeof T.locateFile&&(we(e)||(e=T.locateFile(e)),we(s)||(s=T.locateFile(s)),we(t)||(t=T.locateFile(t)));var c={global:null,env:null,asm2wasm:{"f64-rem":function(e,t){return e%t},debugger:function(){}},parent:T},_=null;function u(e){var t=T.buffer;e.byteLength<t.byteLength&&T.printErr("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here");var n,i=new Int8Array(t);new Int8Array(e).set(i),n=e,T.buffer=S=n,z()}function l(){try{if(T.wasmBinary)return new Uint8Array(T.wasmBinary);if(T.readBinary)return T.readBinary(s);throw"on the web, we need the wasm binary to be preloaded and set on Module['wasmBinary']. emcc.py will do that for you when generating HTML (but not JS)"}catch(e){bt(e)}}function o(e,t,n){if("object"!=typeof WebAssembly)return T.printErr("no native wasm support detected"),!1;if(!(T.wasmMemory instanceof WebAssembly.Memory))return T.printErr("no native wasm Memory in use"),!1;function i(e,t){(_=e.exports).memory&&u(_.memory),T.asm=_,T.usingWasm=!0,Ee("wasm-instantiate")}if(t.memory=T.wasmMemory,c.global={NaN:NaN,Infinity:1/0},c["global.Math"]=Math,c.env=t,me("wasm-instantiate"),T.instantiateWasm)try{return T.instantiateWasm(c,i)}catch(e){return T.printErr("Module.instantiateWasm callback failed with error: "+e),!1}var r=T;function a(e){E(T===r,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),r=null,i(e.instance,e.module)}function o(e){(T.wasmBinary||!f&&!d||"function"!=typeof fetch?new Promise(function(e,t){e(l())}):fetch(s,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+s+"'";return e.arrayBuffer()}).catch(function(){return l()})).then(function(e){return WebAssembly.instantiate(e,c)}).then(e).catch(function(e){T.printErr("failed to asynchronously prepare wasm: "+e),bt(e)})}return T.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||we(s)||"function"!=typeof fetch?o(a):WebAssembly.instantiateStreaming(fetch(s,{credentials:"same-origin"}),c).then(a).catch(function(e){T.printErr("wasm streaming compile failed: "+e),T.printErr("falling back to ArrayBuffer instantiation"),o(a)}),{}}T.asmPreload=T.asm,T.reallocBuffer=function(e){return function(t){var e,n,i=T.usingWasm?q:16777216;0<(e=t)%(n=i)&&(e+=n-e%n),t=e;var r=T.buffer.byteLength;if(T.usingWasm)try{return-1!==T.wasmMemory.grow((t-r)/65536)?T.buffer=T.wasmMemory.buffer:null}catch(e){return console.error("Module.reallocBuffer: Attempted to grow from "+r+" bytes to "+t+" bytes, but got error: "+e),null}}(e)},T.asm=function(e,t,n){var i;if(!(t=t).table){var r=T.wasmTableSize;void 0===r&&(r=1024);var a=T.wasmMaxTableSize;"object"==typeof WebAssembly&&"function"==typeof WebAssembly.Table?t.table=void 0!==a?new WebAssembly.Table({initial:r,maximum:a,element:"anyfunc"}):new WebAssembly.Table({initial:r,element:"anyfunc"}):t.table=new Array(r),T.wasmTable=t.table}return t.memoryBase||(t.memoryBase=T.STATIC_BASE),t.tableBase||(t.tableBase=0),(i=o(0,t))||bt("no binaryen method succeeded. consider enabling more options, like interpreting, if you want that: https://github.com/kripken/emscripten/wiki/WebAssembly#binaryen-methods"),i}}();var ge=[function(){return navigator.onLine},function(){T.onAuthenticationError()},function(e){T.printErr('emscripten_fetch("'+x(e)+'") failed! Synchronous blocking XHRs and IndexedDB operations are not supported on the main browser thread. Try dropping the EMSCRIPTEN_FETCH_SYNCHRONOUS flag, or run with the linker flag --proxy-to-worker to decouple main C runtime thread from the main browser thread.')}];j=14224,ne.push();T.STATIC_BASE=1024,T.STATIC_BUMP=13200;var ve=j;j+=16,E(ve%8==0);var be={varargs:0,get:function(e){return be.varargs+=4,X[be.varargs-4>>2]},getStr:function(){return x(be.get())},get64:function(){var e=be.get(),t=be.get();return E(0<=e?0===t:-1===t),e},getZero:function(){E(0===be.get())}};function Re(){var e=T._fflush;e&&e(0);var t=Ae.printChar;if(t){var n=Ae.buffers;n[1].length&&t(1,10),n[2].length&&t(2,10)}}function Ae(e,t){be.varargs=t;try{var n=be.get(),i=be.get(),r=be.get(),a=0;Ae.buffers||(Ae.buffers=[null,[],[]],Ae.printChar=function(e,t){var n=Ae.buffers[e];E(n),0===t||10===t?((1===e?T.print:T.printErr)(A(n,0)),n.length=0):n.push(t)});for(var o=0;o<r;o++){for(var s=X[i+8*o>>2],c=X[i+(8*o+4)>>2],_=0;_<c;_++)Ae.printChar(n,F[s+_]);a+=c}return a}catch(e){return void 0!==ye&&e instanceof ye.ErrnoError||bt(e),-e.errno}}var Ie={attr_t_offset_requestMethod:0,attr_t_offset_userData:32,attr_t_offset_onsuccess:36,attr_t_offset_onerror:40,attr_t_offset_onprogress:44,attr_t_offset_attributes:48,attr_t_offset_timeoutMSecs:52,attr_t_offset_withCredentials:56,attr_t_offset_destinationPath:60,attr_t_offset_userName:64,attr_t_offset_password:68,attr_t_offset_requestHeaders:72,attr_t_offset_overriddenMimeType:76,attr_t_offset_requestData:80,attr_t_offset_requestDataSize:84,fetch_t_offset_id:0,fetch_t_offset_userData:4,fetch_t_offset_url:8,fetch_t_offset_data:12,fetch_t_offset_numBytes:16,fetch_t_offset_dataOffset:24,fetch_t_offset_totalBytes:32,fetch_t_offset_readyState:40,fetch_t_offset_status:42,fetch_t_offset_statusText:44,fetch_t_offset___proxyState:108,fetch_t_offset___attributes:112,xhrs:[],worker:void 0,dbInstance:void 0,setu64:function(e,t){D[e>>2]=t,D[e+4>>2]=t/4294967296|0},openDatabase:function(e,t,n,i){try{var r=indexedDB.open(e,t)}catch(e){return i(e)}r.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains("FILES")&&t.deleteObjectStore("FILES"),t.createObjectStore("FILES")},r.onsuccess=function(e){n(e.target.result)},r.onerror=function(e){i(e)}},initFetchWorker:function(){var e=b(32768,"i32*",3);Ie.worker.postMessage({cmd:"init",TOTAL_MEMORY:$,DYNAMICTOP_PTR:V,STACKTOP:e,STACK_MAX:e+131072,queuePtr:xe,buffer:F.buffer})},staticInit:function(){Ie.openDatabase("emscripten_filesystem",1,function(e){Ie.dbInstance=e,"undefined"!=typeof ENVIRONMENT_IS_FETCH_WORKER&&ENVIRONMENT_IS_FETCH_WORKER||Ee("library_fetch_init")},function(){Ie.dbInstance=!1}),"undefined"!=typeof ENVIRONMENT_IS_FETCH_WORKER&&ENVIRONMENT_IS_FETCH_WORKER||me("library_fetch_init")}};function Me(r,a,o,i){var e=D[r+Ie.fetch_t_offset_url>>2];if(e){var t=x(e),n=r+Ie.fetch_t_offset___attributes,s=x(n);s||(s="GET");D[n+Ie.attr_t_offset_userData>>2];var c=D[n+Ie.attr_t_offset_attributes>>2],_=D[n+Ie.attr_t_offset_timeoutMSecs>>2],u=!!D[n+Ie.attr_t_offset_withCredentials>>2],l=(D[n+Ie.attr_t_offset_destinationPath>>2],D[n+Ie.attr_t_offset_userName>>2]),f=D[n+Ie.attr_t_offset_password>>2],d=D[n+Ie.attr_t_offset_requestHeaders>>2],p=D[n+Ie.attr_t_offset_overriddenMimeType>>2],h=D[n+Ie.attr_t_offset_requestData>>2],m=D[n+Ie.attr_t_offset_requestDataSize>>2],E=!!(1&c),y=!!(2&c),T=!!(64&c),w=l?x(l):void 0,g=f?x(f):void 0,v=p?x(p):void 0,b=new XMLHttpRequest;if(b.withCredentials=u,b.open(s,t,!T,w,g),T||(b.timeout=_),b.url_=t,b.responseType=y?"moz-chunked-arraybuffer":"arraybuffer",p&&b.overrideMimeType(v),d)for(;;){var R=D[d>>2];if(!R)break;var A=D[d+4>>2];if(!A)break;d+=8;var I=x(R),M=x(A);b.setRequestHeader(I,M)}Ie.xhrs.push(b);var O=Ie.xhrs.length;D[r+Ie.fetch_t_offset_id>>2]=O;var S=h&&m?F.slice(h,h+m):null;b.onload=function(e){var t=b.response?b.response.byteLength:0,n=0,i=0;E&&!y&&(n=mt(i=t),F.set(new Uint8Array(b.response),n)),D[r+Ie.fetch_t_offset_data>>2]=n,Ie.setu64(r+Ie.fetch_t_offset_numBytes,i),Ie.setu64(r+Ie.fetch_t_offset_dataOffset,0),t&&Ie.setu64(r+Ie.fetch_t_offset_totalBytes,t),U[r+Ie.fetch_t_offset_readyState>>1]=b.readyState,4===b.readyState&&0===b.status&&(b.status=0<t?200:404),U[r+Ie.fetch_t_offset_status>>1]=b.status,b.statusText&&N(b.statusText,r+Ie.fetch_t_offset_statusText,64),200==b.status?a&&a(r,b,e):o&&o(r,b,e)},b.onerror=function(e){var t=b.status;4==b.readyState&&0==t&&(t=404),D[r+Ie.fetch_t_offset_data>>2]=0,Ie.setu64(r+Ie.fetch_t_offset_numBytes,0),Ie.setu64(r+Ie.fetch_t_offset_dataOffset,0),Ie.setu64(r+Ie.fetch_t_offset_totalBytes,0),U[r+Ie.fetch_t_offset_readyState>>1]=b.readyState,U[r+Ie.fetch_t_offset_status>>1]=t,o&&o(r,b,e)},b.ontimeout=function(e){o&&o(r,b,e)},b.onprogress=function(e){var t=E&&y&&b.response?b.response.byteLength:0,n=0;E&&y&&(n=mt(t),F.set(new Uint8Array(b.response),n)),D[r+Ie.fetch_t_offset_data>>2]=n,Ie.setu64(r+Ie.fetch_t_offset_numBytes,t),Ie.setu64(r+Ie.fetch_t_offset_dataOffset,e.loaded-t),Ie.setu64(r+Ie.fetch_t_offset_totalBytes,e.total),U[r+Ie.fetch_t_offset_readyState>>1]=b.readyState,3<=b.readyState&&0===b.status&&0<e.loaded&&(b.status=200),U[r+Ie.fetch_t_offset_status>>1]=b.status,b.statusText&&N(b.statusText,r+Ie.fetch_t_offset_statusText,64),i&&i(r,b,e)};try{b.send(S)}catch(e){o&&o(r,b,e)}}else o(r,0,"no url specified!")}function Oe(e,t,n,i,r){if(e){var a=t+Ie.fetch_t_offset___attributes,o=D[a+Ie.attr_t_offset_destinationPath>>2];o||(o=D[t+Ie.fetch_t_offset_url>>2]);var s=x(o);try{var c=e.transaction(["FILES"],"readwrite").objectStore("FILES").put(n,s);c.onsuccess=function(e){U[t+Ie.fetch_t_offset_readyState>>1]=4,U[t+Ie.fetch_t_offset_status>>1]=200,N("OK",t+Ie.fetch_t_offset_statusText,64),i(t,0,s)},c.onerror=function(e){U[t+Ie.fetch_t_offset_readyState>>1]=4,U[t+Ie.fetch_t_offset_status>>1]=413,N("Payload Too Large",t+Ie.fetch_t_offset_statusText,64),r(t,0,e)}}catch(e){r(t,0,e)}}else r(t,0,"IndexedDB not available!")}function Se(e,r,a,o){if(e){var t=r+Ie.fetch_t_offset___attributes,n=D[t+Ie.attr_t_offset_destinationPath>>2];n||(n=D[r+Ie.fetch_t_offset_url>>2]);var i=x(n);try{var s=e.transaction(["FILES"],"readonly").objectStore("FILES").get(i);s.onsuccess=function(e){if(e.target.result){var t=e.target.result,n=t.byteLength||t.length,i=mt(n);F.set(new Uint8Array(t),i),D[r+Ie.fetch_t_offset_data>>2]=i,Ie.setu64(r+Ie.fetch_t_offset_numBytes,n),Ie.setu64(r+Ie.fetch_t_offset_dataOffset,0),Ie.setu64(r+Ie.fetch_t_offset_totalBytes,n),U[r+Ie.fetch_t_offset_readyState>>1]=4,U[r+Ie.fetch_t_offset_status>>1]=200,N("OK",r+Ie.fetch_t_offset_statusText,64),a(r,0,t)}else U[r+Ie.fetch_t_offset_readyState>>1]=4,U[r+Ie.fetch_t_offset_status>>1]=404,N("Not Found",r+Ie.fetch_t_offset_statusText,64),o(r,0,"no data")},s.onerror=function(e){U[r+Ie.fetch_t_offset_readyState>>1]=4,U[r+Ie.fetch_t_offset_status>>1]=404,N("Not Found",r+Ie.fetch_t_offset_statusText,64),o(r,0,e)}}catch(e){o(r,0,e)}}else o(r,0,"IndexedDB not available!")}var xe=b(12,"i32*",2);Ie.staticInit(),V=p(4),B=Q=s(j),Y=s(W=B+Z),X[V>>2]=Y,H=!0,E(Y<$,"TOTAL_MEMORY not big enough for stack");var Ne=["0","jsCall_ii_0","jsCall_ii_1","jsCall_ii_2","jsCall_ii_3","jsCall_ii_4","jsCall_ii_5","jsCall_ii_6","jsCall_ii_7","jsCall_ii_8","jsCall_ii_9","jsCall_ii_10","jsCall_ii_11","jsCall_ii_12","jsCall_ii_13","jsCall_ii_14","jsCall_ii_15","jsCall_ii_16","jsCall_ii_17","jsCall_ii_18","jsCall_ii_19","___stdio_close","0","0","0","0","0","0","0","0","0","0"],Ce=["0","jsCall_iii_0","jsCall_iii_1","jsCall_iii_2","jsCall_iii_3","jsCall_iii_4","jsCall_iii_5","jsCall_iii_6","jsCall_iii_7","jsCall_iii_8","jsCall_iii_9","jsCall_iii_10","jsCall_iii_11","jsCall_iii_12","jsCall_iii_13","jsCall_iii_14","jsCall_iii_15","jsCall_iii_16","jsCall_iii_17","jsCall_iii_18","jsCall_iii_19","_sort_uint8_array","_chirp_peak_cmp","0","0","0","0","0","0","0","0","0"],Fe=["0","jsCall_iiii_0","jsCall_iiii_1","jsCall_iiii_2","jsCall_iiii_3","jsCall_iiii_4","jsCall_iiii_5","jsCall_iiii_6","jsCall_iiii_7","jsCall_iiii_8","jsCall_iiii_9","jsCall_iiii_10","jsCall_iiii_11","jsCall_iiii_12","jsCall_iiii_13","jsCall_iiii_14","jsCall_iiii_15","jsCall_iiii_16","jsCall_iiii_17","jsCall_iiii_18","jsCall_iiii_19","___stdio_write","___stdio_seek","___stdout_write","_sn_write","0","0","0","0","0","0","0"],ke=["0","jsCall_vi_0","jsCall_vi_1","jsCall_vi_2","jsCall_vi_3","jsCall_vi_4","jsCall_vi_5","jsCall_vi_6","jsCall_vi_7","jsCall_vi_8","jsCall_vi_9","jsCall_vi_10","jsCall_vi_11","jsCall_vi_12","jsCall_vi_13","jsCall_vi_14","jsCall_vi_15","jsCall_vi_16","jsCall_vi_17","jsCall_vi_18","jsCall_vi_19","_validate_success_callback","_validate_failure_callback","0","0","0","0","0","0","0","0","0"],Ue=["0","jsCall_viii_0","jsCall_viii_1","jsCall_viii_2","jsCall_viii_3","jsCall_viii_4","jsCall_viii_5","jsCall_viii_6","jsCall_viii_7","jsCall_viii_8","jsCall_viii_9","jsCall_viii_10","jsCall_viii_11","jsCall_viii_12","jsCall_viii_13","jsCall_viii_14","jsCall_viii_15","jsCall_viii_16","jsCall_viii_17","jsCall_viii_18","jsCall_viii_19","__chirp_encode_started_callback","__chirp_encode_finished_callback","__chirp_decode_started_callback","__chirp_decode_finished_callback","0","0","0","0","0","0","0"];T.wasmTableSize=160,T.wasmMaxTableSize=160,T.asmGlobalArg={},T.asmLibraryArg={enlargeMemory:J,getTotalMemory:function(){return $},abortOnCannotGrowMemory:G,abortStackOverflow:function(e){bt("Stack overflow! Attempted to allocate "+e+" bytes on the stack, but stack has only "+(W-Tt()+e)+" bytes available!")},nullFunc_ii:function(e){T.printErr("Invalid function pointer '"+e+"' called with signature 'ii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),T.printErr("This pointer might make sense in another type signature: iii: "+Ce[e]+"  iiii: "+Fe[e]+"  vi: "+ke[e]+"  viii: "+Ue[e]+"  "),bt(e)},nullFunc_iii:function(e){T.printErr("Invalid function pointer '"+e+"' called with signature 'iii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),T.printErr("This pointer might make sense in another type signature: ii: "+Ne[e]+"  iiii: "+Fe[e]+"  viii: "+Ue[e]+"  vi: "+ke[e]+"  "),bt(e)},nullFunc_iiii:function(e){T.printErr("Invalid function pointer '"+e+"' called with signature 'iiii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),T.printErr("This pointer might make sense in another type signature: iii: "+Ce[e]+"  ii: "+Ne[e]+"  viii: "+Ue[e]+"  vi: "+ke[e]+"  "),bt(e)},nullFunc_vi:function(e){T.printErr("Invalid function pointer '"+e+"' called with signature 'vi'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),T.printErr("This pointer might make sense in another type signature: viii: "+Ue[e]+"  ii: "+Ne[e]+"  iii: "+Ce[e]+"  iiii: "+Fe[e]+"  "),bt(e)},nullFunc_viii:function(e){T.printErr("Invalid function pointer '"+e+"' called with signature 'viii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),T.printErr("This pointer might make sense in another type signature: vi: "+ke[e]+"  iii: "+Ce[e]+"  ii: "+Ne[e]+"  iiii: "+Fe[e]+"  "),bt(e)},jsCall_ii:function(e,t){return _[e](t)},jsCall_iii:function(e,t,n){return _[e](t,n)},jsCall_iiii:function(e,t,n,i){return _[e](t,n,i)},jsCall_vi:function(e,t){_[e](t)},jsCall_viii:function(e,t,n,i){_[e](t,n,i)},___assert_fail:function(e,t,n,i){bt("Assertion failed: "+x(e)+", at: "+[t?x(t):"unknown filename",n,i?x(i):"unknown function"])},___setErrNo:function(e){return T.___errno_location?X[T.___errno_location()>>2]=e:T.printErr("failed to set errno from JS"),e},___syscall140:function(e,t){be.varargs=t;try{var n=be.getStreamFromFD(),i=(be.get(),be.get()),r=be.get(),a=be.get(),o=i;return ye.llseek(n,o,a),X[r>>2]=n.position,n.getdents&&0===o&&0===a&&(n.getdents=null),0}catch(e){return void 0!==ye&&e instanceof ye.ErrnoError||bt(e),-e.errno}},___syscall146:Ae,___syscall54:function(e,t){be.varargs=t;try{return 0}catch(e){return void 0!==ye&&e instanceof ye.ErrnoError||bt(e),-e.errno}},___syscall6:function(e,t){be.varargs=t;try{var n=be.getStreamFromFD();return ye.close(n),0}catch(e){return void 0!==ye&&e instanceof ye.ErrnoError||bt(e),-e.errno}},_emscripten_asm_const_i:function(e){return ge[e]()},_emscripten_asm_const_ii:function(e,t){return ge[e](t)},_emscripten_is_main_browser_thread:function(){return!d},_emscripten_memcpy_big:function(e,t,n){return F.set(F.subarray(t,t+n),e),e},_emscripten_start_fetch:function(e,i,r,a){void 0!==T&&(T.noExitRuntime=!0);var t=e+Ie.fetch_t_offset___attributes,n=x(t),o=D[t+Ie.attr_t_offset_onsuccess>>2],s=D[t+Ie.attr_t_offset_onerror>>2],c=D[t+Ie.attr_t_offset_onprogress>>2],_=D[t+Ie.attr_t_offset_attributes>>2],u=!!(4&_),l=!!(32&_),f=function(e,t,n){o?T.dynCall_vi(o,e):i&&i(e)},d=function(e,t,n){Oe(Ie.dbInstance,e,t.response,function(e,t,n){o?T.dynCall_vi(o,e):i&&i(e)},function(e,t,n){o?T.dynCall_vi(o,e):i&&i(e)})},p=function(e,t,n){c?T.dynCall_vi(c,e):a&&a(e)},h=function(e,t,n){s?T.dynCall_vi(s,e):r&&r(e)};if(16&_&&"EM_IDB_STORE"!==n&&"EM_IDB_DELETE"!==n){if(l)return 0;Me(e,u?d:f,h,p)}else{if(!Ie.dbInstance)return h(e),0;if("EM_IDB_STORE"===n){var m=D[t+Ie.attr_t_offset_requestData>>2],E=D[t+Ie.attr_t_offset_requestDataSize>>2],y=F.slice(m,m+E);Oe(Ie.dbInstance,e,y,f,h)}else"EM_IDB_DELETE"===n?function(e,n,i,t){if(e){var r=n+Ie.fetch_t_offset___attributes,a=D[r+Ie.attr_t_offset_destinationPath>>2];a||(a=D[n+Ie.fetch_t_offset_url>>2]);var o=x(a);try{var s=e.transaction(["FILES"],"readwrite").objectStore("FILES").delete(o);s.onsuccess=function(e){var t=e.target.result;D[n+Ie.fetch_t_offset_data>>2]=0,Ie.setu64(n+Ie.fetch_t_offset_numBytes,0),Ie.setu64(n+Ie.fetch_t_offset_dataOffset,0),Ie.setu64(n+Ie.fetch_t_offset_dataOffset,0),U[n+Ie.fetch_t_offset_readyState>>1]=4,U[n+Ie.fetch_t_offset_status>>1]=200,N("OK",n+Ie.fetch_t_offset_statusText,64),i(n,0,t)},s.onerror=function(e){U[n+Ie.fetch_t_offset_readyState>>1]=4,U[n+Ie.fetch_t_offset_status>>1]=404,N("Not Found",n+Ie.fetch_t_offset_statusText,64),t(n,0,e)}}catch(e){t(n,0,e)}}else t(n,0,"IndexedDB not available!")}(Ie.dbInstance,e,f,h):Se(Ie.dbInstance,e,f,l?h:u?function(e,t,n){Me(e,d,h,p)}:function(e,t,n){Me(e,f,h,p)})}return e},_gettimeofday:function(e){var t=Date.now();return X[e>>2]=t/1e3|0,X[e+4>>2]=t%1e3*1e3|0,0},_llvm_exp2_f32:function(e){return Math.pow(2,e)},DYNAMICTOP_PTR:V,STACKTOP:Q,STACK_MAX:W};var Xe=T.asm(T.asmGlobalArg,T.asmLibraryArg,S),De=Xe._chirp_connect_as_string;Xe._chirp_connect_as_string=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),De.apply(null,arguments)};var Pe=Xe._chirp_connect_get_max_payload_length;Xe._chirp_connect_get_max_payload_length=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Pe.apply(null,arguments)};var Le=Xe._chirp_connect_get_protocol_name;Xe._chirp_connect_get_protocol_name=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Le.apply(null,arguments)};var je=Xe._chirp_connect_get_protocol_version;Xe._chirp_connect_get_protocol_version=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),je.apply(null,arguments)};var He=Xe._chirp_connect_get_state;Xe._chirp_connect_get_state=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),He.apply(null,arguments)};var Be=Xe._chirp_connect_process;Xe._chirp_connect_process=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Be.apply(null,arguments)};var Qe=Xe._chirp_connect_process_input;Xe._chirp_connect_process_input=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Qe.apply(null,arguments)};var We=Xe._chirp_connect_process_output;Xe._chirp_connect_process_output=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),We.apply(null,arguments)};var Ye=Xe._chirp_connect_random_payload;Xe._chirp_connect_random_payload=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ye.apply(null,arguments)};var Ve=Xe._chirp_connect_send;Xe._chirp_connect_send=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ve.apply(null,arguments)};var qe=Xe._chirp_connect_set_callbacks;Xe._chirp_connect_set_callbacks=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),qe.apply(null,arguments)};var ze=Xe._chirp_connect_set_random_seed;Xe._chirp_connect_set_random_seed=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ze.apply(null,arguments)};var Ke=Xe._chirp_connect_set_sample_rate;Xe._chirp_connect_set_sample_rate=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ke.apply(null,arguments)};var Ge=Xe._chirp_connect_set_volume;Xe._chirp_connect_set_volume=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ge.apply(null,arguments)};var Je=Xe._chirp_connect_start;Xe._chirp_connect_start=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Je.apply(null,arguments)};var Ze=Xe._chirp_connect_stop;Xe._chirp_connect_stop=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ze.apply(null,arguments)};var $e=Xe._del_chirp_connect_wasm;Xe._del_chirp_connect_wasm=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),$e.apply(null,arguments)};var et=Xe._free;Xe._free=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),et.apply(null,arguments)};var tt=Xe._llvm_bswap_i32;Xe._llvm_bswap_i32=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),tt.apply(null,arguments)};var nt=Xe._malloc;Xe._malloc=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),nt.apply(null,arguments)};var it=Xe._memmove;Xe._memmove=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),it.apply(null,arguments)};var rt=Xe._new_chirp_connect_wasm;Xe._new_chirp_connect_wasm=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),rt.apply(null,arguments)};var at=Xe._pthread_mutex_lock;Xe._pthread_mutex_lock=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),at.apply(null,arguments)};var ot=Xe._pthread_mutex_unlock;Xe._pthread_mutex_unlock=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ot.apply(null,arguments)};var st=Xe._roundf;Xe._roundf=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),st.apply(null,arguments)};var ct=Xe._sbrk;Xe._sbrk=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ct.apply(null,arguments)};var _t=Xe.establishStackSpace;Xe.establishStackSpace=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),_t.apply(null,arguments)};var ut=Xe.getTempRet0;Xe.getTempRet0=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ut.apply(null,arguments)};var lt=Xe.setTempRet0;Xe.setTempRet0=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),lt.apply(null,arguments)};var ft=Xe.setThrew;Xe.setThrew=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ft.apply(null,arguments)};var dt=Xe.stackAlloc;Xe.stackAlloc=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),dt.apply(null,arguments)};var pt=Xe.stackRestore;Xe.stackRestore=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),pt.apply(null,arguments)};var ht=Xe.stackSave;Xe.stackSave=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ht.apply(null,arguments)},T.asm=Xe;T._chirp_connect_as_string=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._chirp_connect_as_string.apply(null,arguments)},T._chirp_connect_get_max_payload_length=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._chirp_connect_get_max_payload_length.apply(null,arguments)},T._chirp_connect_get_protocol_name=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._chirp_connect_get_protocol_name.apply(null,arguments)},T._chirp_connect_get_protocol_version=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._chirp_connect_get_protocol_version.apply(null,arguments)},T._chirp_connect_get_state=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._chirp_connect_get_state.apply(null,arguments)},T._chirp_connect_process=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._chirp_connect_process.apply(null,arguments)},T._chirp_connect_process_input=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._chirp_connect_process_input.apply(null,arguments)},T._chirp_connect_process_output=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._chirp_connect_process_output.apply(null,arguments)},T._chirp_connect_random_payload=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._chirp_connect_random_payload.apply(null,arguments)},T._chirp_connect_send=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._chirp_connect_send.apply(null,arguments)},T._chirp_connect_set_callbacks=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._chirp_connect_set_callbacks.apply(null,arguments)},T._chirp_connect_set_random_seed=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._chirp_connect_set_random_seed.apply(null,arguments)},T._chirp_connect_set_sample_rate=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._chirp_connect_set_sample_rate.apply(null,arguments)},T._chirp_connect_set_volume=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._chirp_connect_set_volume.apply(null,arguments)},T._chirp_connect_start=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._chirp_connect_start.apply(null,arguments)},T._chirp_connect_stop=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._chirp_connect_stop.apply(null,arguments)},T._del_chirp_connect_wasm=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._del_chirp_connect_wasm.apply(null,arguments)},T._free=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._free.apply(null,arguments)},T._llvm_bswap_i32=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._llvm_bswap_i32.apply(null,arguments)};var mt=T._malloc=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._malloc.apply(null,arguments)},Et=(T._memmove=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._memmove.apply(null,arguments)},T._new_chirp_connect_wasm=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._new_chirp_connect_wasm.apply(null,arguments)},T._pthread_mutex_lock=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._pthread_mutex_lock.apply(null,arguments)},T._pthread_mutex_unlock=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._pthread_mutex_unlock.apply(null,arguments)},T._roundf=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._roundf.apply(null,arguments)},T._sbrk=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm._sbrk.apply(null,arguments)},T.establishStackSpace=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm.establishStackSpace.apply(null,arguments)},T.getTempRet0=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm.getTempRet0.apply(null,arguments)},T.setTempRet0=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm.setTempRet0.apply(null,arguments)},T.setThrew=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm.setThrew.apply(null,arguments)},T.stackAlloc=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm.stackAlloc.apply(null,arguments)}),yt=T.stackRestore=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm.stackRestore.apply(null,arguments)},Tt=T.stackSave=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm.stackSave.apply(null,arguments)};T.dynCall_ii=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm.dynCall_ii.apply(null,arguments)},T.dynCall_iii=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm.dynCall_iii.apply(null,arguments)},T.dynCall_iiii=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm.dynCall_iiii.apply(null,arguments)},T.dynCall_vi=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm.dynCall_vi.apply(null,arguments)},T.dynCall_viii=function(){return E(oe,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),E(!se,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),T.asm.dynCall_viii.apply(null,arguments)};function wt(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function gt(e){function t(){T.calledRun||(T.calledRun=!0,u||(K(),oe||(oe=!0,ee(ne)),K(),ee(ie),T.onRuntimeInitialized&&T.onRuntimeInitialized(),E(!T._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),function(){if(K(),T.postRun)for("function"==typeof T.postRun&&(T.postRun=[T.postRun]);T.postRun.length;)e=T.postRun.shift(),ae.unshift(e);var e;ee(ae)}()))}e=e||T.arguments,0<fe||(E(0==(3&W)),D[(W>>2)-1]=34821223,D[(W>>2)-2]=2310721022,function(){if(T.preRun)for("function"==typeof T.preRun&&(T.preRun=[T.preRun]);T.preRun.length;)e=T.preRun.shift(),te.unshift(e);var e;ee(te)}(),0<fe||T.calledRun||(T.setStatus?(T.setStatus("Running..."),setTimeout(function(){setTimeout(function(){T.setStatus("")},1),t()},1)):t(),K()))}T.asm=Xe,T.intArrayFromString=function(e,t,n){var i=0<n?n:function(e){for(var t=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);55296<=i&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++n)),i<=127?++t:t+=i<=2047?2:i<=65535?3:i<=2097151?4:i<=67108863?5:6}return t}(e)+1,r=new Array(i),a=I(e,r,0,r.length);return t&&(r.length=a),r},T.intArrayToString=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];255<i&&(E(!1,"Character code "+i+" ("+String.fromCharCode(i)+")  at offset "+n+" not in 0x00-0xFF."),i&=255),t.push(String.fromCharCode(i))}return t.join("")},T.ccall=g,T.cwrap=function(e,t,n){n=n||[];var i=l(e),r=n.every(function(e){return"number"===e});return"string"!==t&&r?i:function(){return g(e,t,n,arguments)}},T.setValue||(T.setValue=function(){bt("'setValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.getValue=function(e,t,n){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return C[e>>0];case"i16":return k[e>>1];case"i32":case"i64":return X[e>>2];case"float":return P[e>>2];case"double":return L[e>>3];default:bt("invalid type for getValue: "+t)}return null},T.allocate=b,T.getMemory||(T.getMemory=function(){bt("'getMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),T.Pointer_stringify=x,T.AsciiToString||(T.AsciiToString=function(){bt("'AsciiToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.stringToAscii||(T.stringToAscii=function(){bt("'stringToAscii' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.UTF8ArrayToString||(T.UTF8ArrayToString=function(){bt("'UTF8ArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.UTF8ToString||(T.UTF8ToString=function(){bt("'UTF8ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.stringToUTF8Array||(T.stringToUTF8Array=function(){bt("'stringToUTF8Array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.stringToUTF8||(T.stringToUTF8=function(){bt("'stringToUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.lengthBytesUTF8||(T.lengthBytesUTF8=function(){bt("'lengthBytesUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.UTF16ToString||(T.UTF16ToString=function(){bt("'UTF16ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.stringToUTF16||(T.stringToUTF16=function(){bt("'stringToUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.lengthBytesUTF16||(T.lengthBytesUTF16=function(){bt("'lengthBytesUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.UTF32ToString||(T.UTF32ToString=function(){bt("'UTF32ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.stringToUTF32||(T.stringToUTF32=function(){bt("'stringToUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.lengthBytesUTF32||(T.lengthBytesUTF32=function(){bt("'lengthBytesUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.allocateUTF8||(T.allocateUTF8=function(){bt("'allocateUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.stackTrace||(T.stackTrace=function(){bt("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.addOnPreRun||(T.addOnPreRun=function(){bt("'addOnPreRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.addOnInit||(T.addOnInit=function(){bt("'addOnInit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.addOnPreMain||(T.addOnPreMain=function(){bt("'addOnPreMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.addOnExit||(T.addOnExit=function(){bt("'addOnExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.addOnPostRun||(T.addOnPostRun=function(){bt("'addOnPostRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.writeStringToMemory||(T.writeStringToMemory=function(){bt("'writeStringToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.writeArrayToMemory||(T.writeArrayToMemory=function(){bt("'writeArrayToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.writeAsciiToMemory||(T.writeAsciiToMemory=function(){bt("'writeAsciiToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.addRunDependency||(T.addRunDependency=function(){bt("'addRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),T.removeRunDependency||(T.removeRunDependency=function(){bt("'removeRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),T.FS||(T.FS=function(){bt("'FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.FS_createFolder||(T.FS_createFolder=function(){bt("'FS_createFolder' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),T.FS_createPath||(T.FS_createPath=function(){bt("'FS_createPath' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),T.FS_createDataFile||(T.FS_createDataFile=function(){bt("'FS_createDataFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),T.FS_createPreloadedFile||(T.FS_createPreloadedFile=function(){bt("'FS_createPreloadedFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),T.FS_createLazyFile||(T.FS_createLazyFile=function(){bt("'FS_createLazyFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),T.FS_createLink||(T.FS_createLink=function(){bt("'FS_createLink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),T.FS_createDevice||(T.FS_createDevice=function(){bt("'FS_createDevice' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),T.FS_unlink||(T.FS_unlink=function(){bt("'FS_unlink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),T.GL||(T.GL=function(){bt("'GL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.staticAlloc||(T.staticAlloc=function(){bt("'staticAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.dynamicAlloc||(T.dynamicAlloc=function(){bt("'dynamicAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.warnOnce||(T.warnOnce=function(){bt("'warnOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.loadDynamicLibrary||(T.loadDynamicLibrary=function(){bt("'loadDynamicLibrary' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.loadWebAssemblyModule||(T.loadWebAssemblyModule=function(){bt("'loadWebAssemblyModule' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.getLEB||(T.getLEB=function(){bt("'getLEB' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.getFunctionTables||(T.getFunctionTables=function(){bt("'getFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.alignFunctionTables||(T.alignFunctionTables=function(){bt("'alignFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.registerFunctions||(T.registerFunctions=function(){bt("'registerFunctions' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.addFunction=function(e,t){void 0===t&&T.printErr("Warning: addFunction: Provide a wasm function signature string as a second argument");for(var n=0;n<20;n++)if(!_[n])return _[n]=e,1+n;throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},T.removeFunction||(T.removeFunction=function(){bt("'removeFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.getFuncWrapper||(T.getFuncWrapper=function(){bt("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.prettyPrint||(T.prettyPrint=function(){bt("'prettyPrint' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.makeBigInt||(T.makeBigInt=function(){bt("'makeBigInt' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.dynCall||(T.dynCall=function(){bt("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.getCompilerSetting||(T.getCompilerSetting=function(){bt("'getCompilerSetting' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.stackSave||(T.stackSave=function(){bt("'stackSave' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.stackRestore||(T.stackRestore=function(){bt("'stackRestore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.stackAlloc||(T.stackAlloc=function(){bt("'stackAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),T.ALLOC_NORMAL=0,T.ALLOC_STACK||Object.defineProperty(T,"ALLOC_STACK",{get:function(){bt("'ALLOC_STACK' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),T.ALLOC_STATIC||Object.defineProperty(T,"ALLOC_STATIC",{get:function(){bt("'ALLOC_STATIC' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),T.ALLOC_DYNAMIC||Object.defineProperty(T,"ALLOC_DYNAMIC",{get:function(){bt("'ALLOC_DYNAMIC' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),T.ALLOC_NONE||Object.defineProperty(T,"ALLOC_NONE",{get:function(){bt("'ALLOC_NONE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),(wt.prototype=new Error).constructor=wt,pe=function e(){T.calledRun||gt(),T.calledRun||(pe=e)},T.run=gt,T.exit=function(e,t){!function(){var e=T.print,t=T.printErr,n=!1;T.print=T.printErr=function(e){n=!0};try{Re()}catch(e){}T.print=e,T.printErr=t,n&&c("stdio streams had content in them that was not flushed. you should set NO_EXIT_RUNTIME to 0 (see the FAQ), or make sure to emit a newline when you printf etc.")}(),t&&T.noExitRuntime&&0===e||(T.noExitRuntime?t||T.printErr("exit("+e+") called, but NO_EXIT_RUNTIME is set, so halting execution but not exiting the runtime or preventing further async execution (build with NO_EXIT_RUNTIME=0, if you want a true shutdown)"):(u=!0,Q=void 0,K(),ee(re),se=!0,T.onExit&&T.onExit(e)),a&&process.exit(e),T.quit(e,new wt(e)))};var vt=[];function bt(t){T.onAbort&&T.onAbort(t),void 0!==t?(T.print(t),T.printErr(t),t=JSON.stringify(t)):t="",u=!0;var n="abort("+t+") at "+O();throw vt&&vt.forEach(function(e){n=e(n,t)}),n}if(T.abort=bt,T.preInit)for("function"==typeof T.preInit&&(T.preInit=[T.preInit]);0<T.preInit.length;)T.preInit.pop()();T.noExitRuntime=!0,gt();var Rt=/Android/i.test(navigator.userAgent),At=!1,It=null,Mt=null,Ot=function(e){At=e,It&&It.getAudioTracks().forEach(function(e){e.enabled=At})},St="3.0.0",xt="wasm",Nt=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},Ct="CHIRP_WASM_SDK_UUID",Ft=localStorage.getItem(Ct);Ft||(Ft=Nt()+Nt()+"-"+Nt()+"-"+Nt()+"-"+Nt()+"-"+Nt()+Nt()+Nt(),localStorage.setItem(Ct,Ft));var kt=function(e,t,n){var i="https://analytics.chirp.io/"+t,r=JSON.stringify(n),a=new XMLHttpRequest;a.open("POST",i,!0),a.setRequestHeader("Content-Type","application/json; charset=utf-8"),a.setRequestHeader("Authorization","Basic "+btoa(e+":")),a.send(r)},Ut=function(e,t,n,i){var r={client_id:Ft,timestamp:(new Date).toISOString(),payload_length:t,protocol_name:n,protocol_version:i,platform:xt,sdk_version:St};kt(e,"v3/connect/send",r)},Xt=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)).charCodeAt(0));return Uint8Array.from(t)},Dt=/iPhone|iPad|iPod|Android|Blackberry|Windows Phone/i.test(navigator.userAgent),Pt=navigator.vendor&&-1<navigator.vendor.indexOf("Apple")&&navigator.userAgent&&!navigator.userAgent.match("CriOS")&&!navigator.userAgent.match("FxiOS"),Lt=null;T.onRuntimeInitialized=function(){return Lt=!0},T.onAbort=function(){return Lt=!1},T.onAuthenticationError=function(){Ot(!1),console.error("\nChirp authentication failed, please check your origins are set correctly.\nSee https://developers.chirp.io/applications.\n  "),It&&It.getAudioTracks().forEach(function(e){return e.stop()}),Mt.close()};var jt=function(_){return{init:function(e){if(_.key=e,_.maxPayloadLength=0,_.status=["Not Created","Stopped","Paused","Running","Sending","Receiving"],_.onStateChanged=function(e,t){},_.onSending=function(e){},_.onSent=function(e){},_.onReceiving=function(){},_.onReceived=function(e){},_.connect=_.new_chirp_connect_wasm(e),!_.connect)throw"Error initialising Chirp Connect";return _.connect},configure:function(){var e,t,n=T.addFunction(function(e,t,n){_.onStateChanged(_.status[t],_.status[n])},"viii"),i=T.addFunction(function(e,t,n){var i=_.chirp_connect_as_string(_.connect,t,n);_.onSending(Xt(i))},"viii"),r=T.addFunction(function(e,t,n){var i=_.chirp_connect_as_string(_.connect,t,n);_.onSent(Xt(i))},"viii"),a=T.addFunction(function(e,t,n){_.onReceiving()},"viii"),o=T.addFunction(function(e,t,n){if(0<n){var i=_.chirp_connect_as_string(_.connect,t,n);_.onReceived(Xt(i))}else _.onReceived(new Uint8Array([]));var r,a,o,s,c;r=_.key,a=n,o=_.protocolName,s=_.protocolVersion,c={client_id:Ft,timestamp:(new Date).toISOString(),success:0!==a,payload_length:a,protocol_name:o,protocol_version:s,platform:xt,sdk_version:St},kt(r,"v3/connect/receive",c)},"viii"),s=T._malloc(40);T.HEAPU32[s/4+0]=n,T.HEAPU32[s/4+1]=i,T.HEAPU32[s/4+2]=r,T.HEAPU32[s/4+3]=a,T.HEAPU32[s/4+4]=o,_.chirp_connect_set_callbacks(_.connect,s),_.chirp_connect_set_random_seed(_.connect,parseInt(Math.random()*Math.pow(2,32))),_.maxPayloadLength=_.chirp_connect_get_max_payload_length(_.connect),_.protocolName=_.chirp_connect_get_protocol_name(_.connect),_.protocolVersion=_.chirp_connect_get_protocol_version(_.connect),e=_.key,t={client_id:Ft,timestamp:(new Date).toISOString(),platform:xt,sdk_version:St},kt(e,"v3/connect/instantiate",t)},process_input:function(e,t){for(var n=T._malloc(t*Float32Array.BYTES_PER_ELEMENT),i=0;i<t;i++)T.HEAPF32[n/Float32Array.BYTES_PER_ELEMENT+i]=e[i];_.chirp_connect_process_input(_.connect,n,t);T._free(n)},process_output:function(e,t){for(var n=T._malloc(t*Float32Array.BYTES_PER_ELEMENT),i=(_.chirp_connect_process_output(_.connect,n,t),0);i<t;i++)e[i]=T.HEAPF32[n/Float32Array.BYTES_PER_ELEMENT+i];T._free(n)},send:function(e){if(!(e.length<=_.maxPayloadLength))throw"Payload too long, maximum = "+_.maxPayloadLength+" bytes";var t="string"==typeof e?T.intArrayFromString(e):e,n=T.allocate(t,"i8",T.ALLOC_NORMAL);_.chirp_connect_send(_.connect,n,e.length),T._free(n),Ut(_.key,e.length,_.protocolName,_.protocolVersion)},sendRandom:function(e){var t=e||parseInt(Math.random()*(_.maxPayloadLength-1));_.chirp_connect_send(_.connect,_.chirp_connect_random_payload(_.connect,t),t),Ut(_.key,t,_.protocolName,_.protocolVersion)},setCallbacks:function(e,t,n,i,r){_.onStateChanged=e||_.onStateChanged,_.onSending=t||_.onSending,_.onSent=n||_.onSent,_.onReceiving=i||_.onReceiving,_.onReceived=r||_.onReceived},start:function(){Ot(!0),_.chirp_connect_start(_.connect)},stop:function(){Ot(!1),_.chirp_connect_stop(_.connect)},getState:function(){return _.chirp_connect_get_state(_.connect)},getSampleRate:function(){return _.chirp_connect_get_sample_rate(_.connect)},setSampleRate:function(e){return _.chirp_connect_set_sample_rate(_.connect,e)},getVolume:function(){return _.chirp_connect_get_volume(_.connect)},setVolume:function(e){return _.chirp_connect_set_volume(_.connect,e)},getDuration:function(e){return _.chirp_connect_get_duration_for_payload_length(_.connect,e)},getProtocolName:function(){return _.chirp_connect_get_protocol_name(_.connect)},getProtocolVersion:function(){return _.chirp_connect_get_protocol_version(_.connect)},isValid:function(e){var t="string"==typeof e?T.intArrayFromString(e):e,n=T.allocate(t,"i8",T.ALLOC_NORMAL),i=_.chirp_connect_is_valid(_.connect,n,e.length);return T._free(n),0===i},asString:function(e){var t="string"==typeof e?T.intArrayFromString(e):e,n=T.allocate(t,"i8",T.ALLOC_NORMAL),i=_.chirp_connect_as_string(_.connect,n,e.length);return T._free(n),i}}};return e.SDK=jt,e.Chirp=function(e){var a=e.key,o=e.onStateChanged,s=e.onSending,c=e.onSent,_=e.onReceiving,u=e.onReceived;return new Promise(function(t,n){var r=setInterval(function(){if(null===Lt);else if(Lt){clearInterval(r);var e=jt({new_chirp_connect_wasm:T.cwrap("new_chirp_connect_wasm","number",["string"]),del_chirp_connect_wasm:T.cwrap("del_chirp_connect_wasm","number",["number"]),chirp_connect_start:T.cwrap("chirp_connect_start","number",["number"]),chirp_connect_stop:T.cwrap("chirp_connect_stop","number",["number"]),chirp_connect_random_payload:T.cwrap("chirp_connect_random_payload","number",["number","number"]),chirp_connect_send:T.cwrap("chirp_connect_send","number",["number","number","number"]),chirp_connect_process:T.cwrap("chirp_connect_process","number",["number","number","number","number"]),chirp_connect_process_input:T.cwrap("chirp_connect_process_input","number",["number","number","number"]),chirp_connect_process_output:T.cwrap("chirp_connect_process_output","number",["number","number","number"]),chirp_connect_as_string:T.cwrap("chirp_connect_as_string","string",["number","number","number"]),chirp_connect_set_sample_rate:T.cwrap("chirp_connect_set_sample_rate","number",["number","number"]),chirp_connect_get_max_payload_length:T.cwrap("chirp_connect_get_max_payload_length","number",["number"]),chirp_connect_set_callbacks:T.cwrap("chirp_connect_set_callbacks","number",["number","number"]),chirp_connect_set_random_seed:T.cwrap("chirp_connect_set_random_seed","null",["number","number"]),chirp_connect_set_volume:T.cwrap("chirp_connect_set_volume","number",["number","number"]),chirp_connect_get_state:T.cwrap("chirp_connect_get_state","number",["number"]),chirp_connect_get_protocol_name:T.cwrap("chirp_connect_get_protocol_name","string",["number"]),chirp_connect_get_protocol_version:T.cwrap("chirp_connect_get_protocol_version","number",["number"])});try{e.init(a),(i=e,navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(e){It=e;var t=(Mt=new(window.AudioContext||window.webkitAudioContext)).createMediaStreamSource(It),n=Rt?Mt.createScriptProcessor(4096,1,1):Mt.createScriptProcessor(0,1,1);t.connect(n),n.connect(Mt.destination),i.setSampleRate(Mt.sampleRate),n.onaudioprocess=function(e){At&&(i.process_input(e.inputBuffer.getChannelData(0),e.inputBuffer.length),i.process_output(e.outputBuffer.getChannelData(0),e.outputBuffer.length)),e.outputBuffer.getChannelData(0).forEach(function(e){})}})).then(function(){e.configure(),Dt?e.setVolume(.3):e.setVolume(.9),e.setCallbacks(o,s,c,_,u),Pt&&"ultrasonic"==e.getProtocolName()?n("Ultrasonic is not supported on Safari"):(e.start(),t(e))}).catch(n)}catch(e){n(e)}}else clearInterval(r),n("WebAssembly initialisation aborted");var i},10)})},e.hexToArray=Xt,e.toAscii=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e}({});
